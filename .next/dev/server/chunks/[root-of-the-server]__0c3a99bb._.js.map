{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaena/Downloads/toolsapp/node_modules/node-qpdf2/dist/spawn.js"],"sourcesContent":["// Ignore errors about unsafe-arguments, this is because data is unknown\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\nimport { spawn } from \"node:child_process\";\nexport default (callArguments) => new Promise((resolve, reject) => {\n    const process = spawn(\"qpdf\", callArguments);\n    const stdout = [];\n    const stderr = [];\n    process.stdout.on(\"data\", (data) => {\n        stdout.push(data);\n    });\n    process.stderr.on(\"data\", (data) => {\n        /* c8 ignore next */\n        stderr.push(data);\n    });\n    process.on(\"error\", (error) => {\n        /* c8 ignore next */\n        reject(error);\n    });\n    process.on(\"close\", (code) => {\n        if (code === 0) {\n            resolve(Buffer.from(stdout.join(\"\")));\n        }\n        else {\n            // There is a problem from qpdf\n            reject(Buffer.from(stderr.join(\"\")).toLocaleString());\n        }\n    });\n});\n"],"names":[],"mappings":"AAAA,wEAAwE;AACxE,wDAAwD;;;;AACxD;;uCACe,CAAC,gBAAkB,IAAI,QAAQ,CAAC,SAAS;QACpD,MAAM,UAAU,IAAA,4IAAK,EAAC,QAAQ;QAC9B,MAAM,SAAS,EAAE;QACjB,MAAM,SAAS,EAAE;QACjB,QAAQ,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC;YACvB,OAAO,IAAI,CAAC;QAChB;QACA,QAAQ,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC;YACvB,kBAAkB,GAClB,OAAO,IAAI,CAAC;QAChB;QACA,QAAQ,EAAE,CAAC,SAAS,CAAC;YACjB,kBAAkB,GAClB,OAAO;QACX;QACA,QAAQ,EAAE,CAAC,SAAS,CAAC;YACjB,IAAI,SAAS,GAAG;gBACZ,QAAQ,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC;YACpC,OACK;gBACD,+BAA+B;gBAC/B,OAAO,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,KAAK,cAAc;YACtD;QACJ;IACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaena/Downloads/toolsapp/node_modules/node-qpdf2/dist/utils.js"],"sourcesContent":["import { existsSync } from \"node:fs\";\n/**\n * hyphenate will take any value that is dromedary case (camelCase with a initial lowercase letter)\n * and convert it to kebab case (kebab-case). For example `camelCase` becomes camel-case\n * @param variable the value to be \"kebab'd\"\n * @returns the value with in kebab case\n */\nexport const hyphenate = (variable) => variable.replaceAll(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n/**\n * Determines if the file exists\n * @param file the path of the file to be tested.\n */\n// eslint-disable-next-line security/detect-non-literal-fs-filename\nexport const fileExists = (file) => !!existsSync(file);\n"],"names":[],"mappings":";;;;;;AAAA;;AAOO,MAAM,YAAY,CAAC,WAAa,SAAS,UAAU,CAAC,mBAAmB,SAAS,WAAW;AAM3F,MAAM,aAAa,CAAC,OAAS,CAAC,CAAC,IAAA,2HAAU,EAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaena/Downloads/toolsapp/node_modules/node-qpdf2/dist/decrypt.js"],"sourcesContent":["import execute from \"./spawn.js\";\nimport { fileExists } from \"./utils.js\";\n/**\n * Decrypts a PDF\n * @param payload The settings for decryption\n * @returns The output of QPDF\n */\nexport const decrypt = async (payload) => {\n    if (!payload.input)\n        throw new Error(\"Please specify input file\");\n    if (!fileExists(payload.input))\n        throw new Error(\"Input file doesn't exist\");\n    const callArguments = [\"--decrypt\"];\n    // Password\n    if (payload.password) {\n        callArguments.push(`--password=${payload.password}`);\n    }\n    // Input file path\n    callArguments.push(payload.input);\n    // Print PDF on stdout\n    if (payload.output) {\n        callArguments.push(payload.output);\n    }\n    else {\n        callArguments.push(\"-\");\n    }\n    return execute(callArguments);\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAMO,MAAM,UAAU,OAAO;IAC1B,IAAI,CAAC,QAAQ,KAAK,EACd,MAAM,IAAI,MAAM;IACpB,IAAI,CAAC,IAAA,8JAAU,EAAC,QAAQ,KAAK,GACzB,MAAM,IAAI,MAAM;IACpB,MAAM,gBAAgB;QAAC;KAAY;IACnC,WAAW;IACX,IAAI,QAAQ,QAAQ,EAAE;QAClB,cAAc,IAAI,CAAC,CAAC,WAAW,EAAE,QAAQ,QAAQ,EAAE;IACvD;IACA,kBAAkB;IAClB,cAAc,IAAI,CAAC,QAAQ,KAAK;IAChC,sBAAsB;IACtB,IAAI,QAAQ,MAAM,EAAE;QAChB,cAAc,IAAI,CAAC,QAAQ,MAAM;IACrC,OACK;QACD,cAAc,IAAI,CAAC;IACvB;IACA,OAAO,IAAA,2JAAO,EAAC;AACnB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaena/Downloads/toolsapp/node_modules/node-qpdf2/dist/encrypt.js"],"sourcesContent":["import execute from \"./spawn.js\";\nimport { fileExists, hyphenate } from \"./utils.js\";\nconst EncryptDefaults = {\n    keyLength: 256,\n    overwrite: true,\n};\n/**\n * Encrypts a PDF file\n * @param userPayload The options for encryption\n * @returns The output of QPDF\n */\n// eslint-disable-next-line sonarjs/cognitive-complexity\nexport const encrypt = async (userPayload) => {\n    // Set Defaults\n    const payload = { ...EncryptDefaults, ...userPayload };\n    // Check if the file exists\n    if (!payload.input)\n        throw new Error(\"Please specify input file\");\n    if (!fileExists(payload.input))\n        throw new Error(\"Input file doesn't exist\");\n    if (payload.output && !payload.overwrite && fileExists(payload.output))\n        throw new Error(\"Output file already exists\");\n    const callArguments = [];\n    // If the keyLength is 40, `--allow-weak-crypto` needs to be specified before `--encrypt`.\n    // This is required for qpdf 11+.\n    if (payload.keyLength === 40)\n        callArguments.push(\"--allow-weak-crypto\");\n    callArguments.push(\"--encrypt\");\n    // Set user-password and owner-password\n    if (typeof payload.password === \"object\") {\n        if (payload.password.user === undefined ||\n            payload.password.owner === undefined) {\n            // TODO: If the keyLength is 256 AND there is no owner password, `--allow-insecure` can be used\n            throw new Error(\"Please specify both owner and user passwords\");\n        }\n        callArguments.push(payload.password.user, payload.password.owner);\n    }\n    else if (typeof payload.password === \"string\") {\n        // Push twice for user-password and owner-password\n        callArguments.push(payload.password, payload.password);\n    }\n    else {\n        // no password specified, push two empty strings (https://stackoverflow.com/a/43736897/455124)\n        callArguments.push(\"\", \"\");\n    }\n    // Specifying the key length\n    callArguments.push(payload.keyLength.toString());\n    // Add Restrictions for encryption\n    if (payload.restrictions) {\n        if (typeof payload.restrictions !== \"object\")\n            throw new Error(\"Invalid Restrictions\");\n        for (const [restriction, value] of Object.entries(payload.restrictions)) {\n            // cleartextMetadata does not have a value\n            if (restriction === \"cleartextMetadata\" && value === true) {\n                callArguments.push(`--${hyphenate(restriction)}`);\n            }\n            if (restriction === \"useAes\" && payload.keyLength === 256) {\n                // use-aes is always on with 256 bit keyLength\n            }\n            else {\n                callArguments.push(`--${hyphenate(restriction)}=${value}`);\n            }\n        }\n    }\n    // Marks end of --encrypt options, Input file path\n    callArguments.push(\"--\", payload.input);\n    if (payload.output) {\n        // If the input and output locations are the same, and overwrite is true, replace the input file\n        if (payload.input === payload.output && payload.overwrite) {\n            callArguments.push(\"--replace-input\");\n        }\n        else {\n            callArguments.push(payload.output);\n        }\n    }\n    else {\n        // Print PDF on stdout\n        callArguments.push(\"-\");\n    }\n    // Execute command and return stdout for pipe\n    return execute(callArguments);\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AACA,MAAM,kBAAkB;IACpB,WAAW;IACX,WAAW;AACf;AAOO,MAAM,UAAU,OAAO;IAC1B,eAAe;IACf,MAAM,UAAU;QAAE,GAAG,eAAe;QAAE,GAAG,WAAW;IAAC;IACrD,2BAA2B;IAC3B,IAAI,CAAC,QAAQ,KAAK,EACd,MAAM,IAAI,MAAM;IACpB,IAAI,CAAC,IAAA,8JAAU,EAAC,QAAQ,KAAK,GACzB,MAAM,IAAI,MAAM;IACpB,IAAI,QAAQ,MAAM,IAAI,CAAC,QAAQ,SAAS,IAAI,IAAA,8JAAU,EAAC,QAAQ,MAAM,GACjE,MAAM,IAAI,MAAM;IACpB,MAAM,gBAAgB,EAAE;IACxB,0FAA0F;IAC1F,iCAAiC;IACjC,IAAI,QAAQ,SAAS,KAAK,IACtB,cAAc,IAAI,CAAC;IACvB,cAAc,IAAI,CAAC;IACnB,uCAAuC;IACvC,IAAI,OAAO,QAAQ,QAAQ,KAAK,UAAU;QACtC,IAAI,QAAQ,QAAQ,CAAC,IAAI,KAAK,aAC1B,QAAQ,QAAQ,CAAC,KAAK,KAAK,WAAW;YACtC,+FAA+F;YAC/F,MAAM,IAAI,MAAM;QACpB;QACA,cAAc,IAAI,CAAC,QAAQ,QAAQ,CAAC,IAAI,EAAE,QAAQ,QAAQ,CAAC,KAAK;IACpE,OACK,IAAI,OAAO,QAAQ,QAAQ,KAAK,UAAU;QAC3C,kDAAkD;QAClD,cAAc,IAAI,CAAC,QAAQ,QAAQ,EAAE,QAAQ,QAAQ;IACzD,OACK;QACD,8FAA8F;QAC9F,cAAc,IAAI,CAAC,IAAI;IAC3B;IACA,4BAA4B;IAC5B,cAAc,IAAI,CAAC,QAAQ,SAAS,CAAC,QAAQ;IAC7C,kCAAkC;IAClC,IAAI,QAAQ,YAAY,EAAE;QACtB,IAAI,OAAO,QAAQ,YAAY,KAAK,UAChC,MAAM,IAAI,MAAM;QACpB,KAAK,MAAM,CAAC,aAAa,MAAM,IAAI,OAAO,OAAO,CAAC,QAAQ,YAAY,EAAG;YACrE,0CAA0C;YAC1C,IAAI,gBAAgB,uBAAuB,UAAU,MAAM;gBACvD,cAAc,IAAI,CAAC,CAAC,EAAE,EAAE,IAAA,6JAAS,EAAC,cAAc;YACpD;YACA,IAAI,gBAAgB,YAAY,QAAQ,SAAS,KAAK,KAAK;YACvD,8CAA8C;YAClD,OACK;gBACD,cAAc,IAAI,CAAC,CAAC,EAAE,EAAE,IAAA,6JAAS,EAAC,aAAa,CAAC,EAAE,OAAO;YAC7D;QACJ;IACJ;IACA,kDAAkD;IAClD,cAAc,IAAI,CAAC,MAAM,QAAQ,KAAK;IACtC,IAAI,QAAQ,MAAM,EAAE;QAChB,gGAAgG;QAChG,IAAI,QAAQ,KAAK,KAAK,QAAQ,MAAM,IAAI,QAAQ,SAAS,EAAE;YACvD,cAAc,IAAI,CAAC;QACvB,OACK;YACD,cAAc,IAAI,CAAC,QAAQ,MAAM;QACrC;IACJ,OACK;QACD,sBAAsB;QACtB,cAAc,IAAI,CAAC;IACvB;IACA,6CAA6C;IAC7C,OAAO,IAAA,2JAAO,EAAC;AACnB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaena/Downloads/toolsapp/node_modules/node-qpdf2/dist/info.js"],"sourcesContent":["import execute from \"./spawn.js\";\nimport { fileExists } from \"./utils.js\";\n/**\n * Gets the encryption info for a PDF\n * @param payload The settings for info\n * @returns The output of QPDF\n */\nexport const info = async (payload) => {\n    if (!payload.input)\n        throw new Error(\"Please specify input file\");\n    if (!fileExists(payload.input))\n        throw new Error(\"Input file doesn't exist\");\n    const callArguments = [\"--show-encryption\"];\n    // Password\n    if (payload.password) {\n        callArguments.push(`--password=${payload.password}`);\n    }\n    // Input file path\n    callArguments.push(payload.input);\n    const result = await execute(callArguments);\n    return result.toLocaleString().trim();\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAMO,MAAM,OAAO,OAAO;IACvB,IAAI,CAAC,QAAQ,KAAK,EACd,MAAM,IAAI,MAAM;IACpB,IAAI,CAAC,IAAA,8JAAU,EAAC,QAAQ,KAAK,GACzB,MAAM,IAAI,MAAM;IACpB,MAAM,gBAAgB;QAAC;KAAoB;IAC3C,WAAW;IACX,IAAI,QAAQ,QAAQ,EAAE;QAClB,cAAc,IAAI,CAAC,CAAC,WAAW,EAAE,QAAQ,QAAQ,EAAE;IACvD;IACA,kBAAkB;IAClB,cAAc,IAAI,CAAC,QAAQ,KAAK;IAChC,MAAM,SAAS,MAAM,IAAA,2JAAO,EAAC;IAC7B,OAAO,OAAO,cAAc,GAAG,IAAI;AACvC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaena/Downloads/toolsapp/node_modules/node-qpdf2/dist/index.js"],"sourcesContent":["export { decrypt } from \"./decrypt.js\";\nexport { encrypt } from \"./encrypt.js\";\nexport { info } from \"./info.js\";\n"],"names":[],"mappings":";AAAA;AACA;AACA","ignoreList":[0],"debugId":null}}]
}