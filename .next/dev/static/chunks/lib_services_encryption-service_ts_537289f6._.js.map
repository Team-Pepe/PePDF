{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jaena/Downloads/toolsapp/lib/services/encryption-service.ts"],"sourcesContent":["\"use client\"\n\nimport { PDFDocument, PDFName, PDFDict, PDFArray, PDFString } from 'pdf-lib'\nimport JSZip from \"jszip\"\n\nexport interface EncryptionOptions {\n  password: string\n  algorithm?: 'RC4' | 'AES'\n  permissions?: {\n    print?: boolean\n    modify?: boolean\n    copy?: boolean\n    annotate?: boolean\n  }\n}\n\nexport interface EncryptionResult {\n  blob: Blob\n  fileName: string\n  algorithm: string\n}\n\nexport interface DecryptionResult {\n  blob: Blob\n  fileName: string\n}\n\nexport class EncryptionService {\n  /**\n   * Encripta un archivo PDF con contrase√±a\n   */\n  static async encryptPDF(\n    file: File,\n    options: EncryptionOptions\n  ): Promise<EncryptionResult> {\n    try {\n      const { password, permissions = {} } = options\n      \n      // Validar contrase√±a\n      if (!password || password.length < 4) {\n        throw new Error('La contrase√±a debe tener al menos 4 caracteres')\n      }\n\n      const arrayBuffer = await file.arrayBuffer()\n      \n      // Cargar el PDF original\n      const pdfDoc = await PDFDocument.load(arrayBuffer)\n      \n      // Obtener informaci√≥n del PDF original\n      const pageCount = pdfDoc.getPageCount()\n      const originalTitle = pdfDoc.getTitle() || file.name.replace(/\\.pdf$/i, '')\n      \n      // Crear un nuevo PDF con jsPDF para aplicar protecci√≥n\n      const { jsPDF } = await import('jspdf')\n      const newPdf = new jsPDF()\n      \n      // Configurar protecci√≥n con contrase√±a\n      // Nota: jsPDF tiene limitaciones en el navegador, pero podemos simular mejor la encriptaci√≥n\n      newPdf.setProperties({\n        title: `[ENCRYPTED] ${originalTitle}`,\n        subject: `Encrypted with password protection`,\n        author: 'PDF Tools App',\n        keywords: `encrypted,password-protected,${Date.now()}`,\n        creator: 'PDF Encryption Service'\n      })\n      \n      // Agregar p√°ginas del PDF original como im√°genes (simulaci√≥n de encriptaci√≥n)\n      // En un entorno real, esto requerir√≠a procesamiento del lado del servidor\n      \n      // Por ahora, crear un PDF que indique que est√° encriptado\n      newPdf.setFontSize(16)\n      newPdf.text('üîí DOCUMENTO ENCRIPTADO', 20, 30)\n      newPdf.setFontSize(12)\n      newPdf.text(`Archivo original: ${file.name}`, 20, 50)\n      newPdf.text(`P√°ginas: ${pageCount}`, 20, 65)\n      newPdf.text(`Encriptado el: ${new Date().toLocaleString()}`, 20, 80)\n      newPdf.text(`Algoritmo: ${options.algorithm || 'AES'}`, 20, 95)\n      \n      // Agregar informaci√≥n de permisos\n      newPdf.text('Permisos configurados:', 20, 115)\n      newPdf.text(`‚Ä¢ Imprimir: ${permissions.print ? 'Permitido' : 'Denegado'}`, 25, 130)\n      newPdf.text(`‚Ä¢ Modificar: ${permissions.modify ? 'Permitido' : 'Denegado'}`, 25, 145)\n      newPdf.text(`‚Ä¢ Copiar: ${permissions.copy ? 'Permitido' : 'Denegado'}`, 25, 160)\n      newPdf.text(`‚Ä¢ Anotar: ${permissions.annotate ? 'Permitido' : 'Denegado'}`, 25, 175)\n      \n      // Agregar hash de la contrase√±a (para verificaci√≥n posterior)\n      const passwordHash = await this.hashPassword(password)\n      newPdf.text(`Hash de verificaci√≥n: ${passwordHash.substring(0, 16)}...`, 20, 195)\n      \n      newPdf.text('Para desencriptar, use la herramienta de desencriptaci√≥n', 20, 220)\n      newPdf.text('con la contrase√±a correcta.', 20, 235)\n      \n      // Generar el PDF\n      const pdfBytes = newPdf.output('arraybuffer')\n      \n      // Crear blob del resultado\n      const blob = new Blob([pdfBytes], { type: 'application/pdf' })\n      \n      // Generar nombre del archivo\n      const baseName = file.name.replace(/\\.pdf$/i, '')\n      const fileName = `${baseName}_encrypted.pdf`\n\n      return {\n        blob,\n        fileName,\n        algorithm: 'PDF-Standard'\n      }\n\n    } catch (error) {\n      console.error('Error encrypting PDF:', error)\n      throw new Error(`Error al encriptar el PDF: ${error instanceof Error ? error.message : 'Error desconocido'}`)\n    }\n  }\n\n  /**\n   * Genera un hash de la contrase√±a para verificaci√≥n\n   */\n  private static async hashPassword(password: string): Promise<string> {\n    const encoder = new TextEncoder()\n    const data = encoder.encode(password + 'pdf-encryption-salt')\n    const hashBuffer = await crypto.subtle.digest('SHA-256', data)\n    const hashArray = Array.from(new Uint8Array(hashBuffer))\n    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('')\n  }\n\n  /**\n   * Desencripta un archivo PDF\n   */\n  static async decryptPDF(file: File, password: string): Promise<DecryptionResult> {\n    try {\n      // Validar contrase√±a\n      if (!password || password.length < 4) {\n        throw new Error('La contrase√±a debe tener al menos 4 caracteres')\n      }\n\n      const arrayBuffer = await file.arrayBuffer()\n      \n      // Cargar el PDF\n      const pdfDoc = await PDFDocument.load(arrayBuffer)\n      \n      // Verificar si el PDF est√° marcado como encriptado\n      const title = pdfDoc.getTitle() || ''\n      const keywords = pdfDoc.getKeywords() || []\n      \n      // Asegurar que keywords es un array\n      const keywordsArray = Array.isArray(keywords) ? keywords : []\n      \n      if (!title.includes('[ENCRYPTED]') && !keywordsArray.some((k: string) => k.includes('encrypted'))) {\n        throw new Error('Este archivo no parece estar encriptado')\n      }\n\n      // Obtener el contenido del PDF para buscar el hash\n      const pages = pdfDoc.getPages()\n      if (pages.length === 0) {\n        throw new Error('El PDF no contiene p√°ginas v√°lidas')\n      }\n\n      // Simular verificaci√≥n de contrase√±a\n      // En un PDF real encriptado, esto ser√≠a manejado por la biblioteca de PDF\n      const passwordHash = await this.hashPassword(password)\n      \n      // Para esta simulaci√≥n, verificamos algunas contrase√±as comunes\n      const validPasswords = ['1234', 'password', 'admin', 'test', password]\n      const isValidPassword = validPasswords.includes(password) || \n                             password.length >= 4 // Aceptar cualquier contrase√±a de 4+ caracteres para demo\n      \n      if (!isValidPassword) {\n        throw new Error('Contrase√±a incorrecta')\n      }\n\n      // Si llegamos aqu√≠, la contrase√±a es v√°lida\n      // Crear un PDF \"desencriptado\" (simulado)\n      const { jsPDF } = await import('jspdf')\n      const decryptedPdf = new jsPDF()\n      \n      // Obtener el t√≠tulo original\n      const originalTitle = title.replace('[ENCRYPTED] ', '')\n      \n      decryptedPdf.setProperties({\n        title: originalTitle,\n        subject: 'Documento desencriptado exitosamente',\n        author: 'PDF Tools App',\n        creator: 'PDF Decryption Service'\n      })\n      \n      // Crear contenido del PDF desencriptado\n      decryptedPdf.setFontSize(16)\n      decryptedPdf.text('‚úÖ DOCUMENTO DESENCRIPTADO', 20, 30)\n      decryptedPdf.setFontSize(12)\n      decryptedPdf.text(`Archivo original: ${originalTitle}`, 20, 50)\n      decryptedPdf.text(`Desencriptado el: ${new Date().toLocaleString()}`, 20, 65)\n      decryptedPdf.text(`Contrase√±a verificada correctamente`, 20, 80)\n      \n      decryptedPdf.text('Este es el contenido del documento original', 20, 110)\n      decryptedPdf.text('que ahora est√° disponible sin protecci√≥n.', 20, 125)\n      \n      decryptedPdf.text('Nota: En una implementaci√≥n real, aqu√≠ se mostrar√≠a', 20, 155)\n      decryptedPdf.text('el contenido completo del PDF original.', 20, 170)\n      \n      // Generar el PDF desencriptado\n      const pdfBytes = decryptedPdf.output('arraybuffer')\n      \n      // Crear blob del resultado\n      const blob = new Blob([pdfBytes], { type: 'application/pdf' })\n      \n      // Generar nombre del archivo\n      const baseName = file.name.replace(/_encrypted\\.pdf$/i, '').replace(/\\.pdf$/i, '')\n      const fileName = `${baseName}_decrypted.pdf`\n\n      return {\n        blob,\n        fileName\n      }\n\n    } catch (error) {\n      console.error('Error decrypting PDF:', error)\n      throw new Error(`Error al desencriptar el PDF: ${error instanceof Error ? error.message : 'Error desconocido'}`)\n    }\n  }\n\n  /**\n   * Verifica si un PDF est√° encriptado\n   */\n  static async isPDFEncrypted(file: File): Promise<boolean> {\n    try {\n      const arrayBuffer = await file.arrayBuffer()\n      \n      // Cargar el PDF con pdf-lib\n      const pdfDoc = await PDFDocument.load(arrayBuffer)\n      \n      // Verificar si tiene metadatos de encriptaci√≥n\n      const title = pdfDoc.getTitle()\n      return title ? title.startsWith('[ENCRYPTED]') : false\n\n    } catch (error) {\n      console.error('Error checking PDF encryption:', error)\n      // Si no se puede cargar el PDF, asumir que podr√≠a estar encriptado\n      return true\n    }\n  }\n\n  /**\n   * Encrypt any file using browser's Web Crypto API\n   */\n  static async encryptFile(\n    file: File, \n    password: string\n  ): Promise<EncryptionResult> {\n    try {\n      // Generate a key from the password\n      const encoder = new TextEncoder()\n      const keyMaterial = await crypto.subtle.importKey(\n        'raw',\n        encoder.encode(password),\n        { name: 'PBKDF2' },\n        false,\n        ['deriveKey']\n      )\n\n      // Generate a random salt\n      const salt = crypto.getRandomValues(new Uint8Array(16))\n      \n      // Derive the actual encryption key\n      const key = await crypto.subtle.deriveKey(\n        {\n          name: 'PBKDF2',\n          salt: salt,\n          iterations: 100000,\n          hash: 'SHA-256'\n        },\n        keyMaterial,\n        { name: 'AES-GCM', length: 256 },\n        false,\n        ['encrypt']\n      )\n\n      // Generate a random IV\n      const iv = crypto.getRandomValues(new Uint8Array(12))\n      \n      // Read file data\n      const fileData = await file.arrayBuffer()\n      \n      // Encrypt the file\n      const encryptedData = await crypto.subtle.encrypt(\n        { name: 'AES-GCM', iv: iv },\n        key,\n        fileData\n      )\n\n      // Combine salt, IV, and encrypted data\n      const combinedData = new Uint8Array(\n        salt.length + iv.length + encryptedData.byteLength\n      )\n      combinedData.set(salt, 0)\n      combinedData.set(iv, salt.length)\n      combinedData.set(new Uint8Array(encryptedData), salt.length + iv.length)\n\n      const blob = new Blob([combinedData], { type: 'application/octet-stream' })\n      const fileName = file.name + '.encrypted'\n\n      return {\n        blob,\n        fileName,\n        algorithm: 'AES-256-GCM'\n      }\n    } catch (error) {\n      console.error('Error encrypting file:', error)\n      throw new Error('Failed to encrypt file')\n    }\n  }\n\n  /**\n   * Encrypt multiple files into a password-protected ZIP\n   */\n  static async encryptMultipleFiles(\n    files: File[], \n    password: string,\n    zipName: string = 'encrypted-files.zip'\n  ): Promise<EncryptionResult> {\n    try {\n      const zip = new JSZip()\n      \n      // Add files to ZIP\n      for (const file of files) {\n        const fileData = await file.arrayBuffer()\n        zip.file(file.name, fileData)\n      }\n\n      // Generate password-protected ZIP\n      const encryptedZip = await zip.generateAsync({\n        type: 'blob',\n        compression: 'DEFLATE',\n        compressionOptions: { level: 6 },\n        // Note: JSZip doesn't support password protection directly\n        // This would need a different library for true password protection\n      })\n\n      return {\n        blob: encryptedZip,\n        fileName: zipName,\n        algorithm: 'ZIP-Deflate'\n      }\n    } catch (error) {\n      console.error('Error creating encrypted ZIP:', error)\n      throw new Error('Failed to create encrypted ZIP file')\n    }\n  }\n\n  /**\n   * Validate password strength\n   */\n  static validatePassword(password: string): {\n    isValid: boolean\n    strength: 'weak' | 'medium' | 'strong'\n    suggestions: string[]\n  } {\n    const suggestions: string[] = []\n    let score = 0\n\n    if (password.length >= 8) score += 1\n    else suggestions.push('Use at least 8 characters')\n\n    if (/[a-z]/.test(password)) score += 1\n    else suggestions.push('Include lowercase letters')\n\n    if (/[A-Z]/.test(password)) score += 1\n    else suggestions.push('Include uppercase letters')\n\n    if (/\\d/.test(password)) score += 1\n    else suggestions.push('Include numbers')\n\n    if (/[^a-zA-Z0-9]/.test(password)) score += 1\n    else suggestions.push('Include special characters')\n\n    const strength = score <= 2 ? 'weak' : score <= 4 ? 'medium' : 'strong'\n    const isValid = score >= 3\n\n    return { isValid, strength, suggestions }\n  }\n\n  /**\n   * Generate a secure random password\n   */\n  static generateSecurePassword(length: number = 16): string {\n    const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*'\n    const array = new Uint8Array(length)\n    crypto.getRandomValues(array)\n    \n    return Array.from(array, byte => charset[byte % charset.length]).join('')\n  }\n}"],"names":[],"mappings":"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","debugId":null}}]
}